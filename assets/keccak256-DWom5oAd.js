function m(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function B(e){return m(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const T="2.34.0";let b={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${T}`};class a extends Error{constructor(t,n={}){var u;const r=(()=>{var c;return n.cause instanceof a?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof a&&n.cause.docsPath||n.docsPath,s=(u=b.getDocsUrl)==null?void 0:u.call(b,{...n,docsPath:i}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...b.version?[`Version: ${b.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=T}walk(t){return H(this,t)}}function H(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?H(e.cause,t):t?null:e}class Te extends a{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class L extends a{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function d(e,{dir:t,size:n=32}={}){return typeof e=="string"?D(e,{dir:t,size:n}):C(e,{dir:t,size:n})}function D(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new L({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function C(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new L({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=t==="right";r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}class q extends a{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class He extends a{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class G extends a{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function g(e,{size:t}){if(B(e)>t)throw new G({givenSize:B(e),maxSize:t})}function K(e,t={}){const{signed:n}=t;t.size&&g(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Le(e,t={}){return Number(K(e,t))}const W=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function J(e,t={}){return typeof e=="number"||typeof e=="bigint"?P(e,t):typeof e=="string"?Z(e,t):typeof e=="boolean"?Q(e,t):U(e,t)}function Q(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(g(n,{size:t.size}),d(n,{size:t.size})):n}function U(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=W[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(g(r,{size:t.size}),d(r,{dir:"right",size:t.size})):r}function P(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new q({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const u=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?d(u,{size:r}):u}const Y=new TextEncoder;function Z(e,t={}){const n=Y.encode(e);return U(n,t)}const ee=new TextEncoder;function te(e,t={}){return typeof e=="number"||typeof e=="bigint"?re(e,t):typeof e=="boolean"?ne(e,t):m(e)?_(e,t):ie(e,t)}function ne(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(g(n,{size:t.size}),d(n,{size:t.size})):n}const f={zero:48,nine:57,A:65,F:70,a:97,f:102};function $(e){if(e>=f.zero&&e<=f.nine)return e-f.zero;if(e>=f.A&&e<=f.F)return e-(f.A-10);if(e>=f.a&&e<=f.f)return e-(f.a-10)}function _(e,t={}){let n=e;t.size&&(g(n,{size:t.size}),n=d(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,u=0;o<i;o++){const c=$(r.charCodeAt(u++)),h=$(r.charCodeAt(u++));if(c===void 0||h===void 0)throw new a(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);s[o]=c*16+h}return s}function re(e,t){const n=P(e,t);return _(n)}function ie(e,t={}){const n=ee.encode(e);return typeof t.size=="number"?(g(n,{size:t.size}),d(n,{dir:"right",size:t.size})):n}const x=BigInt(2**32-1),z=BigInt(32);function se(e,t=!1){return t?{h:Number(e&x),l:Number(e>>z&x)}:{h:Number(e>>z&x)|0,l:Number(e&x)|0}}function oe(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:u}=se(e[s],t);[r[s],i[s]]=[o,u]}return[r,i]}const ue=(e,t,n)=>e<<n|t>>>32-n,ce=(e,t,n)=>t<<n|e>>>32-n,fe=(e,t,n)=>t<<n-32|e>>>64-n,ae=(e,t,n)=>e<<n-32|t>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function he(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function A(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function w(e,...t){if(!he(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function O(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function le(e,t){w(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function de(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function M(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ue(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Pe(e,t){return e<<32-t|e>>>t}const ge=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function be(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function ye(e){for(let t=0;t<e.length;t++)e[t]=be(e[t]);return e}const S=ge?e=>e:ye;function pe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function v(e){return typeof e=="string"&&(e=pe(e)),w(e),e}class xe{}function we(e){const t=r=>e().update(v(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const me=BigInt(0),y=BigInt(1),Ie=BigInt(2),Be=BigInt(7),$e=BigInt(256),ze=BigInt(113),N=[],j=[],F=[];for(let e=0,t=y,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],N.push(2*(5*r+n)),j.push((e+1)*(e+2)/2%64);let i=me;for(let s=0;s<7;s++)t=(t<<y^(t>>Be)*ze)%$e,t&Ie&&(i^=y<<(y<<BigInt(s))-y);F.push(i)}const X=oe(F,!0),Ae=X[0],Oe=X[1],E=(e,t,n)=>n>32?fe(e,t,n):ue(e,t,n),k=(e,t,n)=>n>32?ae(e,t,n):ce(e,t,n);function Se(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const u=(o+8)%10,c=(o+2)%10,h=n[c],l=n[c+1],R=E(h,l,1)^n[u],V=k(h,l,1)^n[u+1];for(let p=0;p<50;p+=10)e[o+p]^=R,e[o+p+1]^=V}let i=e[2],s=e[3];for(let o=0;o<24;o++){const u=j[o],c=E(i,s,u),h=k(i,s,u),l=N[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=h}for(let o=0;o<50;o+=10){for(let u=0;u<10;u++)n[u]=e[o+u];for(let u=0;u<10;u++)e[o+u]^=~n[(u+2)%10]&n[(u+4)%10]}e[0]^=Ae[r],e[1]^=Oe[r]}M(n)}class I extends xe{constructor(t,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,A(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=de(this.state)}clone(){return this._cloneInto()}keccak(){S(this.state32),Se(this.state32,this.rounds),S(this.state32),this.posOut=0,this.pos=0}update(t){O(this),t=v(t),w(t);const{blockLen:n,state:r}=this,i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let u=0;u<o;u++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){O(this,!1),w(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return A(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(le(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,M(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new I(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Ee=(e,t,n)=>we(()=>new I(t,e,n)),ke=Ee(1,136,256/8);function _e(e,t){const n=t||"hex",r=ke(m(e,{strict:!1})?te(e):e);return n==="bytes"?r:J(r)}export{a as B,xe as H,q as I,Te as S,ie as a,Q as b,Z as c,g as d,U as e,He as f,K as g,Le as h,m as i,_ as j,_e as k,J as l,Ue as m,P as n,O as o,D as p,v as q,w as r,B as s,te as t,le as u,M as v,we as w,Pe as x};
