import{u as E,j as t,B as y,T as u,b as L,r as i,H as $,c as b,O as z,P as K,W as U,X as N}from"./index-B-XNprw7.js";import{h as R,E as G}from"./jspdf.es.min-BMbYpkdr.js";import{F as q,T as A}from"./TextField-7BRf_oMD.js";import{A as M,a as B}from"./Autocomplete-C4HjLB2h.js";import{T as Q,a as X,b as J,c as P,d as j,e as Y}from"./TableRow-IpU3PYMa.js";import"./isMuiElement-C2262F52.js";const Z="/rakshit-singh2/assets/Token_Badge-BWRdQ3LA.jpg",V=({badgeRef:e,badge:a,tokenAddress:l,riskScore:m,tokenName:x,tokenSymbol:o})=>{const p=E();return t.jsxs(y,{ref:e,mt:3,p:3,sx:{position:"relative",width:"100%",maxWidth:{xs:280,sm:320,md:350},minHeight:{xs:350,sm:380,md:400},height:"auto",backgroundImage:`url(${a})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,color:"white",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",gap:2,boxShadow:p.shadows[5],padding:{xs:"10px",sm:"15px",md:"20px"}},children:[t.jsx(u,{variant:"body2",sx:{fontStyle:"italic",fontWeight:"bold",color:"#FF4500",padding:"6px 10px",maxWidth:"90%",wordBreak:"break-word",whiteSpace:"normal",fontSize:{xs:"10px",sm:"12px",md:"14px"}},children:l}),t.jsxs(u,{variant:"h2",sx:{color:"#26F7FD",fontSize:{xs:"28px",sm:"36px",md:"48px"},marginTop:{xs:"-20px",sm:"-25px",md:"-30px"}},children:[m,"%"]}),t.jsxs(u,{variant:"h5",sx:{fontFamily:"'Dancing Script', cursive",color:"#FDDC5C",fontWeight:"bold",fontSize:{xs:"12px",sm:"16px",md:"20px"},padding:"6px 12px"},children:[x," (",o,")"]})]})},tt=async(e,a)=>{const l=`https://api.gopluslabs.io/api/v1/token_security/${a}`,m=new URLSearchParams({contract_addresses:e});try{const o=await(await fetch(`${l}?${m}`)).json(),p=Object.keys(o.result)[0];return o.message==="OK"?o.result[p]:null}catch(x){return console.error("Error fetching token security data:",x),null}},et=async()=>{try{const a=await(await fetch("https://api.gopluslabs.io/api/v1/supported_chains")).json();return a.message==="OK"?a.result:[]}catch{return alert("Error fetching chains. Please try later"),[]}},nt=e=>{let a=100;return e.is_honeypot==="1"&&(a-=50),e.owner_percent>50&&(a-=30),e.buy_tax>10&&(a-=10),e.sell_tax>10&&(a-=10),e.is_blacklisted==="1"&&(a-=40),e.is_open_source==="0"&&(a-=10),e.is_mintable==="1"&&(a-=20),e.is_in_dex==="0"&&(a-=10),Math.max(a,0)},lt=()=>{const{t:e}=L();E();const a=i.useRef(null),l=i.useRef(null),[m,x]=i.useState([]),[o,p]=i.useState(""),[g,F]=i.useState(""),[r,W]=i.useState(null),[w,v]=i.useState(!1),[C,S]=i.useState(null),[_,I]=i.useState(""),O=async()=>{if(a.current){const n=await R(a.current,{backgroundColor:null,useCORS:!0,scale:2}),s=n.getContext("2d"),c=20;s.globalCompositeOperation="destination-in",s.beginPath(),s.moveTo(c,0);const d=n.toDataURL("image/png"),h=document.createElement("a");h.href=d,h.download=`${r.token_name}_badge.png`,document.body.appendChild(h),h.click(),document.body.removeChild(h)}},H=async()=>{if(l.current){const n=await R(l.current,{scale:2,useCORS:!0});n.toDataURL("image/png");const s=new G("p","mm","a4"),c=190,d=280,h=n.height*c/n.width;let f=0;for(;f<h;){const k=document.createElement("canvas");k.width=n.width,k.height=d*n.width/c,k.getContext("2d").drawImage(n,0,f*n.width/c,n.width,d*n.width/c,0,0,n.width,d*n.width/c);const T=k.toDataURL("image/png");f===0||s.addPage(),s.addImage(T,"PNG",10,10,c,d),f+=d}s.save(`${r.token_name}_record.pdf`)}};i.useEffect(()=>{(async()=>{const s=await et();s&&x(s)})()},[]),i.useEffect(()=>{r&&I(nt(r))},[r]);const D=async()=>{if(!o||!g){S("Please select a chain and enter a token address.");return}S(null),v(!0);const n=await tt(g,o);W(n),v(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs($,{children:[t.jsx("title",{children:e("token_audit_meta_title")}),t.jsx("meta",{name:"description",content:e("token_audit_meta_description")}),t.jsx("meta",{name:"keywords",content:"Token Audit, Smart Contract Security, Risk Score, Honeypot Detector, Blockchain, Crypto Security, Web3"}),t.jsx("meta",{property:"og:title",content:e("token_audit_meta_title")}),t.jsx("meta",{property:"og:description",content:e("token_audit_meta_description")}),t.jsx("meta",{property:"og:image",content:"https://rakshit-singh2.github.io/rakshit-singh2token-audit-preview.png"}),t.jsx("meta",{property:"og:url",content:"https://rakshit-singh2.github.io/rakshit-singh2token-audit"}),t.jsx("meta",{property:"og:type",content:"website"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:title",content:e("token_audit_meta_title")}),t.jsx("meta",{name:"twitter:description",content:e("token_audit_meta_description")}),t.jsx("meta",{name:"twitter:image",content:"https://rakshit-singh2.github.io/rakshit-singh2/token-audit-preview.png"}),t.jsx("link",{rel:"icon",type:"image/png",href:"/favicon.ico"})]}),t.jsxs(y,{p:3,maxWidth:"90vw",mx:"auto",textAlign:"center",minHeight:"80vh",sx:{mt:10},children:[t.jsx(u,{variant:"h4",gutterBottom:!0,children:e("token_audit_title")}),t.jsx(u,{variant:"body1",sx:{mb:3,color:"text_secondary",lineHeight:1.8},children:e("token_audit_description")}),t.jsx(u,{variant:"h6",sx:{mt:2,mb:1},children:e("token_audit_why_use_title")}),t.jsxs("ul",{style:{textAlign:"left",marginBottom:"24px"},children:[t.jsx("li",{children:e("token_audit_why_fast")}),t.jsx("li",{children:e("token_audit_why_multichain")}),t.jsx("li",{children:e("token_audit_why_detect")}),t.jsx("li",{children:e("token_audit_why_download")}),t.jsx("li",{children:e("token_audit_why_useful")})]}),t.jsx(u,{variant:"body2",color:"text_secondary",sx:{mb:2},children:e("token_audit_cta")}),t.jsxs(y,{display:"flex",flexDirection:"column",gap:2,children:[t.jsx(q,{fullWidth:!0,children:t.jsx(M,{options:m,getOptionLabel:n=>n.name,value:m.find(n=>n.id===o)||null,onChange:(n,s)=>p((s==null?void 0:s.id)||""),renderInput:n=>t.jsx(A,{...n,label:e("token_audit_select_chain"),variant:"outlined"}),isOptionEqualToValue:(n,s)=>n.id===s.id})}),t.jsx(A,{label:e("token_audit_token_address"),fullWidth:!0,value:g,onChange:n=>F(n.target.value)}),t.jsx(b,{variant:"contained",color:"primary",onClick:D,disabled:w,children:w?t.jsx(z,{size:24}):e("token_audit_check_button")})]}),C&&t.jsx(B,{severity:"error",sx:{mt:2},children:C}),r&&t.jsxs(t.Fragment,{children:[t.jsxs(B,{severity:_>90?"success":_>=51?"warning":"error",sx:{mt:2},children:[e("token_audit_audit_score"),": ",_,"%"]}),t.jsx(y,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.jsx(V,{badgeRef:a,badge:Z,tokenAddress:g,riskScore:_,tokenName:r.token_name,tokenSymbol:r.token_symbol})}),t.jsx(b,{variant:"outlined",onClick:O,sx:{mt:2},children:e("token_audit_download_badge")}),"Â ",t.jsx(b,{variant:"outlined",onClick:H,sx:{mt:2},children:e("token_audit_download_report")}),t.jsx(Q,{ref:l,component:K,sx:{mt:3},children:t.jsxs(X,{children:[t.jsx(J,{children:t.jsxs(P,{children:[t.jsx(j,{children:e("token_audit_table_property")}),t.jsx(j,{children:e("token_audit_table_value")})]})}),t.jsx(Y,{children:Object.entries(r).filter(([n,s])=>s!==""&&s!=null).map(([n,s])=>t.jsxs(P,{children:[t.jsx(j,{children:U(n)}),t.jsx(j,{children:N(s)})]},n))})]})})]})]})]})};export{lt as default};
