import{r as l,j as t,H as S,B as m,T as h,b as y,A as T,P as D}from"./index-DmVSKYrT.js";import{F as R,T as k}from"./TextField-CqSJWzGx.js";import{A as B,a as P}from"./Autocomplete-DWAnja6F.js";import{T as I,a as E,b as F,c as C,d as u,e as _}from"./TableRow-DBqyGQza.js";import"./isMuiElement-CSnssP9N.js";const N=async()=>{try{const a=await(await fetch("https://api.gopluslabs.io/api/v1/supported_chains")).json();return a.message==="OK"?a.result:[]}catch{return alert("Error fetching chains"),[]}},W=async(r,a)=>{const e=`https://api.gopluslabs.io/api/v1/approval_security/${a}`,o=new URLSearchParams({contract_addresses:r});try{const i=await(await fetch(`${e}?${o}`)).json();return i.message==="ok"?i.result:null}catch(c){return console.error("Error fetching approval data:",c),null}},O=async()=>{if(redordRef.current){const r=await html2canvas(redordRef.current,{scale:2,useCORS:!0});r.toDataURL("image/png");const a=new jsPDF("p","mm","a4"),e=190,o=280,c=r.height*e/r.width;let i=0;for(;i<c;){const d=document.createElement("canvas");d.width=r.width,d.height=o*r.width/e,d.getContext("2d").drawImage(r,0,i*r.width/e,r.width,o*r.width/e,0,0,r.width,o*r.width/e);const p=d.toDataURL("image/png");i===0||a.addPage(),a.addImage(p,"PNG",10,10,e,o),i+=o}a.save(`${tokenData.token_name}_record.pdf`)}},w=r=>r.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase()),g=r=>typeof r=="object"&&r!==null?t.jsx("ul",{className:"nested-list",children:Object.entries(r).filter(([a,e])=>e!==""&&e!=null).map(([a,e])=>e!==""&&t.jsxs("li",{children:[t.jsxs("strong",{className:"number",children:[w(a),":"]})," ",typeof e=="object"&&e!==null?g(e):e==="0"||e===0?"No":e==="1"||e===1?"Yes":e]},a))}):r,G=()=>{const[r,a]=l.useState([]),[e,o]=l.useState(""),[c,i]=l.useState(""),[d,x]=l.useState(null),[p,f]=l.useState(!1),[j,v]=l.useState(null),A=l.useRef(null);l.useEffect(()=>{(async()=>{const n=await N();a(n)})()},[]);const b=async()=>{if(!e||!c){v("Please provide chain and contract address.");return}v(null),f(!0);const s=await W(c,e);x(s),f(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs(S,{children:[t.jsx("title",{children:"Approval Audit | Check Smart Contract Safety Before Approving"}),t.jsx("meta",{name:"description",content:"Use our smart contract approval audit tool to check if a contract is safe before giving approvals. Analyze token contracts, proxy patterns, ownership, selfdestruct, blacklist, and more."}),t.jsx("meta",{name:"keywords",content:"Smart Contract Audit, Approval Audit, DeFi Security, NFT Contract Risk, Web3 Security Tools, Token Approval Checker, Proxy Contract Detection, Blockchain Security, Contract Risk Score, Web3 Audit Tool"}),t.jsx("meta",{property:"og:title",content:"Approval Audit | Check Smart Contract Safety Before Approving"}),t.jsx("meta",{property:"og:description",content:"Easily analyze token and NFT smart contracts for risky behavior before approvals. Check ownership, proxy patterns, blacklist status, and more."}),t.jsx("meta",{property:"og:image",content:"https://rakshit-singh2.github.io/rakshit-singh2/approval-audit-preview.png"}),t.jsx("meta",{property:"og:url",content:"https://rakshit-singh2.github.io/rakshit-singh2/approval-audit"}),t.jsx("meta",{property:"og:type",content:"website"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:title",content:"Approval Audit | Check Smart Contract Safety Before Approving"}),t.jsx("meta",{name:"twitter:description",content:"Check if a smart contract is safe to approve. Use our audit feature to detect risky permissions, owner privileges, and contract behaviors."}),t.jsx("meta",{name:"twitter:image",content:"https://rakshit-singh2.github.io/rakshit-singh2/approval-audit-preview.png"}),t.jsx("link",{rel:"icon",type:"image/png",href:"/favicon.ico"})]}),t.jsxs(m,{p:3,maxWidth:"90vw",mx:"auto",textAlign:"center",minHeight:"80vh",sx:{mt:10},children:[t.jsx(h,{variant:"h4",gutterBottom:!0,children:"Smart Contract Approval Risk Checker"}),t.jsxs(m,{textAlign:"left",mb:4,children:[t.jsx(h,{variant:"h5",gutterBottom:!0,children:"🔐 Check If a Smart Contract Is Safe Before Approving"}),t.jsxs(h,{children:["Protect your assets before granting token or NFT approvals using our ",t.jsx("strong",{children:"Approval Audit Tool"}),". Instantly analyze smart contracts for hidden risks and dangerous permissions with data. Our scanner identifies high-risk patterns, proxy contracts, owner privileges, and more — giving you full visibility before interacting with any contract."]}),t.jsx(h,{variant:"subtitle1",gutterBottom:!0,children:"🚀 Why Use Our Approval Risk Checker?"}),t.jsxs("ul",{children:[t.jsxs("li",{children:["🔍 ",t.jsx("strong",{children:"Real-Time Risk Detection:"})," Detect selfdestruct, proxy usage, suspicious owner control, and other red flags."]}),t.jsxs("li",{children:["⚠️ ",t.jsx("strong",{children:"Approval Risk Insights:"})," Know if a contract abuses approvals or can drain tokens unexpectedly."]}),t.jsxs("li",{children:["🌐 ",t.jsx("strong",{children:"Multi-Chain Compatibility:"})," Works across major chains like Ethereum, BNB Chain, and more."]}),t.jsxs("li",{children:["📁 ",t.jsx("strong",{children:"Audit Record Export:"})," Download the complete analysis as a PDF for future reference."]})]}),t.jsx(h,{variant:"subtitle1",gutterBottom:!0,children:"🧠 What Does the Audit Check?"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Is the contract verified and open source?"}),t.jsx("li",{children:"Does it use a proxy pattern or allow upgrades?"}),t.jsx("li",{children:"Can the owner access privileged functions like withdraw or blacklist?"}),t.jsx("li",{children:"Does the contract include self-destruct logic?"}),t.jsx("li",{children:"Any signs of malicious behavior or abuse of approvals?"}),t.jsx("li",{children:"Is the approval function exposed in risky ways?"})]})]}),t.jsxs(m,{display:"flex",flexDirection:"column",gap:2,mb:4,children:[t.jsx(R,{fullWidth:!0,children:t.jsx(B,{options:r,getOptionLabel:s=>s.name,value:r.find(s=>s.id===e)||null,onChange:(s,n)=>o((n==null?void 0:n.id)||""),renderInput:s=>t.jsx(k,{...s,label:"Select a Chain",variant:"outlined"}),isOptionEqualToValue:(s,n)=>s.id===n.id})}),t.jsx(k,{label:"Enter Contract Address",fullWidth:!0,value:c,onChange:s=>i(s.target.value)}),t.jsx(y,{variant:"contained",onClick:b,disabled:p,children:p?t.jsx(T,{size:24}):"Check Approval Security"}),j&&t.jsx(P,{severity:"error",children:j})]}),d&&t.jsxs(t.Fragment,{children:[t.jsx(y,{variant:"outlined",onClick:O,sx:{mt:2},children:"Download Audit record"}),t.jsx(I,{ref:A,component:D,sx:{mt:3},children:t.jsxs(E,{children:[t.jsx(F,{children:t.jsxs(C,{children:[t.jsx(u,{children:"Property"}),t.jsx(u,{children:"Value"})]})}),t.jsx(_,{children:Object.entries(d).filter(([s,n])=>n!==""&&n!=null).map(([s,n])=>n!==""&&t.jsxs(C,{children:[t.jsx(u,{children:w(s)}),t.jsx(u,{children:g(n)==="0"?"No":g(n)==="1"?"Yes":g(n)})]},s))})]})})]})]})]})};export{G as default};
