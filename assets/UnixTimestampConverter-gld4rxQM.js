import{b as k,r as u,j as e,C as R,H as Y,T as s,P as C,D as j,B as T,V as K}from"./index-BKuHc0Nf.js";import{T as f,F as V,I as q,S as z}from"./TextField-LbAqSwYT.js";import{D as G}from"./Divider-gHf0gkO4.js";import"./isMuiElement-iEwbFekx.js";const J=t=>{const n=new Date(t*1e3),c=n.toUTCString();return{utc:c,iso:n.toISOString(),rfc2822:c,custom:c.replace(",","")}},U=(t,n,c,l,m,h)=>Math.floor(Date.UTC(t,n-1,c,l,m,h)/1e3),_=t=>{const n=new Date(t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds()}},Q=["UTC","Asia/Kolkata","America/New_York","America/Los_Angeles","Europe/London","Europe/Paris","Asia/Tokyo","Australia/Sydney"],b={Seconds:1,Minutes:60,Hours:3600,Days:86400,Weeks:604800,Months:2629743,Years:31556926},X={year:[1970,9999],month:[1,12],day:[1,31],hour:[0,23],minute:[0,59],second:[0,59]},ee=(t,n,c)=>Math.max(n,Math.min(c,parseInt(t)||0)),I=(t,n,c)=>{const[l,m]=X[n]||[0,9999];return{...t,[n]:ee(c,l,m)}};function te(t,n,c){if(!(t instanceof Date)||isNaN(t))throw new Error("Invalid date provided");try{new Intl.DateTimeFormat("en-US",{timeZone:n}),new Intl.DateTimeFormat("en-US",{timeZone:c})}catch{throw new Error("Invalid timezone provided")}const l={timeZone:c,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},m=new Intl.DateTimeFormat("en-US",l),h=m.formatToParts(t),d={};return h.forEach(({type:a,value:v})=>{a!=="literal"&&(d[a]=parseInt(v,10))}),{date:m.format(t),parts:d,sourceTimeZone:n,targetTimeZone:c}}const ie=()=>{const{t}=k(),[n,c]=u.useState(()=>Math.floor(Date.now()/1e3)),[l,m]=u.useState(n),[h,d]=u.useState(n),[a,v]=u.useState(_(n)),[re,F]=u.useState(_(n)),[p,$]=u.useState("Asia/Kolkata"),[g,E]=u.useState("UTC"),[P,Z]=u.useState(""),[M,O]=u.useState(""),[y,w]=u.useState(""),[D,B]=u.useState(()=>Object.fromEntries(Object.keys(b).map(r=>[r,"0"])));u.useEffect(()=>{const r=setInterval(()=>c(Math.floor(Date.now()/1e3)),1e3);return()=>clearInterval(r)},[]),u.useEffect(()=>{v(_(l)),d(l)},[l]),u.useEffect(()=>{try{const r=new Date(a.year,a.month-1,a.day,a.hour,a.minute,a.second),i=te(r,p,g);F(i.parts),Z(`${a.year}-${a.month}-${a.day} ${a.hour}:${a.minute}:${a.second}`),O(i.date),w("")}catch(r){w(r.message)}},[a,p,g]);const W=(r,i)=>{const o=I(a,r,i);m(U(o.year,o.month,o.day,o.hour,o.minute,o.second))},L=(r,i)=>{const o=I(a,r,i);v(o),d(U(o.year,o.month,o.day,o.hour,o.minute,o.second))},A=r=>i=>{const o=i.target.value.trim();if(!/^\d*\.?\d*$/.test(o))return;const x=parseFloat(o||"0")*b[r];B(Object.fromEntries(Object.entries(b).map(([N,H])=>[N,(x/H).toFixed(6).replace(/\.?0+$/,"")]))),m(Math.floor(x))};console.log(a);const S=J(l);return e.jsxs(R,{maxWidth:"lg",sx:{mt:10,mb:6},children:[e.jsxs(Y,{children:[e.jsx("title",{children:t("unixConverter_meta_title")}),e.jsx("meta",{name:"description",content:t("unixConverter_meta_description")})]}),e.jsx(s,{variant:"h3",gutterBottom:!0,children:t("unixConverter_title")}),e.jsxs(C,{elevation:3,sx:{p:4,mt:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:t("unixConverter_current")}),e.jsx(s,{variant:"h4",color:"primary",fontWeight:"bold",children:n}),e.jsx(s,{variant:"body2",color:"text.secondary",children:new Date(n*1e3).toUTCString()})]}),e.jsxs(C,{elevation:3,sx:{p:4,mt:4},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:t("unixConverter_convert")}),e.jsx(f,{label:t("unixConverter_unixLabel"),fullWidth:!0,type:"number",margin:"normal",value:l,onChange:r=>{const i=r.target.value;i===""?m(""):/^\d+$/.test(i)&&m(Number(i))}}),e.jsx(s,{variant:"subtitle1",mt:3,children:t("unixConverter_enterDate")}),e.jsx(j,{direction:"row",spacing:2,flexWrap:"wrap",mt:1,children:Object.entries(a).map(([r,i])=>e.jsx(f,{label:t(`unixConverter_${r}`),type:"number",value:i,onChange:o=>W(r,o.target.value),sx:{flex:"1 1 120px"}},r))}),e.jsx(G,{sx:{my:4}}),e.jsx(s,{variant:"h5",gutterBottom:!0,children:t("unixConverter_relativeTime")}),e.jsxs(j,{direction:"row",spacing:4,flexWrap:"wrap",children:[e.jsxs(T,{flex:"1 1 250px",children:[e.jsx(s,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:t("unixConverter_formats")}),e.jsxs(s,{children:[t("unixConverter_date")," (",t("unixConverter_timezone"),"): ",new Date(l*1e3).toLocaleDateString()," @ ",new Date(l*1e3).toLocaleTimeString()," IST"]}),e.jsxs(s,{children:["ISO 8601: ",S.iso]}),e.jsxs(s,{children:["RFC 2822: ",S.rfc2822]}),e.jsxs(s,{children:[t("unixConverter_custom"),": ",S.custom]})]}),e.jsxs(T,{flex:"1 1 250px",children:[e.jsx(s,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:t("unixConverter_micro")}),e.jsxs(s,{children:[t("unixConverter_microseconds"),": ",l*1e6]}),e.jsxs(s,{children:[t("unixConverter_nanoseconds"),": ",l*1e9]})]})]})]}),e.jsxs(C,{elevation:3,sx:{p:4,mt:4},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:t("unixConverter_timeZoneConverter")}),e.jsxs(s,{variant:"subtitle1",mt:3,children:[t("unixConverter_sourceTime")," (",t("unixConverter_sourceTimeZone"),")"]}),e.jsx(j,{direction:"row",mt:1,spacing:2,flexWrap:"wrap",children:Object.entries(a).map(([r,i])=>e.jsx(f,{label:t(`unixConverter_${r}`),type:"number",value:i,onChange:o=>L(r,o.target.value),sx:{flex:"1 1 120px"}},r))}),e.jsx(s,{variant:"caption",color:y?"error":"text.secondary",mt:1,children:y||t("unixConverter_dateTimeFormat")}),e.jsx(j,{direction:"row",spacing:3,flexWrap:"wrap",mt:4,children:[{label:"sourceTimeZone",val:p,set:$},{label:"targetTimeZone",val:g,set:E}].map(({label:r,val:i,set:o})=>e.jsxs(V,{sx:{flex:"1 1 250px"},children:[e.jsx(q,{children:t(`unixConverter_${r}`)}),e.jsx(z,{value:i,onChange:x=>o(x.target.value),label:t(`unixConverter_${r}`),children:Q.map(x=>e.jsx(K,{value:x,children:x},x))})]},r))}),e.jsxs(T,{mt:3,children:[e.jsxs(s,{children:[t("unixConverter_sourceTime"),": ",P||t("unixConverter_invalidDateTime")," (",p,")"]}),e.jsxs(s,{children:[t("unixConverter_targetTime"),": ",M||t("unixConverter_invalidDateTime")," (",g,")"]})]})]}),e.jsxs(C,{elevation:3,sx:{p:4,mt:4},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:t("unixConverter_unitConverter")}),e.jsx(T,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:2,mt:2},children:Object.keys(D).map(r=>e.jsx(f,{label:t(`unixConverter_unit_${r.toLowerCase()}`),value:D[r],onChange:A(r),type:"number"},r))})]})]})};export{ie as default};
