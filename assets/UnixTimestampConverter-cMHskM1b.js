import{b as k,r as c,j as e,C as A,H as L,T as a,P as f,D as T,B as S,V as H}from"./index-DSqCyQ05.js";import{T as y,F as R,I as Y,S as K}from"./TextField-DmaIzuVE.js";import{D as q}from"./Divider-efNr66Xf.js";import"./isMuiElement-D607SEm-.js";const V=t=>{const n=new Date(t*1e3),m=n.toUTCString();return{utc:m,iso:n.toISOString(),rfc2822:m,custom:m.replace(",","")}},G=(t,n,m,i,x,h)=>Math.floor(Date.UTC(t,n-1,m,i,x,h)/1e3),b=t=>{const n=new Date(t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds()}},J=(t,n)=>{try{const m=["year","month","day","hour","minute","second"];for(const u of m)if(t[u]===""||t[u]==null||isNaN(t[u]))return null;const{year:i,month:x,day:h,hour:_,minute:C,second:j}=t,p=`${i}-${String(x).padStart(2,"0")}-${String(h).padStart(2,"0")}T${String(_).padStart(2,"0")}:${String(C).padStart(2,"0")}:${String(j).padStart(2,"0")}`,D=new Date(p),v=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZone:n}),d=Object.fromEntries(v.formatToParts(D).filter(u=>u.type!=="literal").map(u=>[u.type,Number(u.value)])),g=Date.UTC(d.year,d.month-1,d.day,d.hour,d.minute,d.second);return isNaN(g)?null:Math.floor(g/1e3)}catch{return null}},Q=["UTC","Asia/Kolkata","America/New_York","America/Los_Angeles","Europe/London","Europe/Paris","Asia/Tokyo","Australia/Sydney"],F={Seconds:1,Minutes:60,Hours:3600,Days:86400,Weeks:604800,Months:2629743,Years:31556926},re=()=>{const{t}=k(),[n,m]=c.useState(()=>Math.floor(Date.now()/1e3)),[i,x]=c.useState(n),[h,_]=c.useState(n),[C,j]=c.useState(b(n)),[p,D]=c.useState("UTC"),[v,d]=c.useState("Asia/Kolkata"),[g,u]=c.useState(b(n)),[w,I]=c.useState(""),[$,P]=c.useState(()=>Object.fromEntries(Object.keys(F).map(r=>[r,"0"])));c.useEffect(()=>{const r=setInterval(()=>m(Math.floor(Date.now()/1e3)),1e3);return()=>clearInterval(r)},[]),c.useEffect(()=>{j(b(i))},[i]),c.useEffect(()=>{u(b(h))},[h]),c.useEffect(()=>{E("Seconds")({target:{value:i.toString()}})},[i]);const Z=(r,o)=>{const s={...C,[r]:Number(o)};j(s),x(G(s.year,s.month,s.day,s.hour,s.minute,s.second))},N=(r,o)=>{const s={...g,[r]:Number(o)};u(s);const l=J(s,p);l!==null?(_(l),I("")):I(t("unixConverter_invalidDateTime"))},E=r=>o=>{const s=o.target.value.trim();if(!/^\d*\.?\d*$/.test(s))return;const l=parseFloat(s||"0")*F[r];P(Object.fromEntries(Object.entries(F).map(([M,O])=>[M,(l/O).toFixed(6).replace(/\.?0+$/,"")])))},{sourceTime:W,targetTime:B}=w?{sourceTime:"",targetTime:""}:(()=>{const r=new Date(h*1e3),o={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1};return{sourceTime:new Intl.DateTimeFormat("en-US",{...o,timeZone:p}).format(r),targetTime:new Intl.DateTimeFormat("en-US",{...o,timeZone:v}).format(r)}})(),U=V(i);return e.jsxs(A,{maxWidth:"lg",sx:{mt:10,mb:6},children:[e.jsxs(L,{children:[e.jsx("title",{children:t("unixConverter_meta_title")}),e.jsx("meta",{name:"description",content:t("unixConverter_meta_description")})]}),e.jsx(a,{variant:"h3",gutterBottom:!0,children:t("unixConverter_title")}),e.jsxs(f,{elevation:3,sx:{p:4,mt:3},children:[e.jsx(a,{variant:"h6",gutterBottom:!0,children:t("unixConverter_current")}),e.jsx(a,{variant:"h4",color:"primary",fontWeight:"bold",children:n}),e.jsx(a,{variant:"body2",color:"text.secondary",children:new Date(n*1e3).toUTCString()})]}),e.jsxs(f,{elevation:3,sx:{p:4,mt:4},children:[e.jsx(a,{variant:"h5",gutterBottom:!0,children:t("unixConverter_convert")}),e.jsx(y,{label:t("unixConverter_unixLabel"),fullWidth:!0,type:"number",margin:"normal",value:i,onChange:r=>{const o=r.target.value;o===""?x(""):/^\d+$/.test(o)&&x(Number(o))}}),e.jsx(a,{variant:"subtitle1",mt:3,children:t("unixConverter_enterDate")}),e.jsx(T,{direction:"row",spacing:2,flexWrap:"wrap",mt:1,children:Object.entries(C).map(([r,o])=>e.jsx(y,{label:t(`unixConverter_${r}`),type:"number",value:o,onChange:s=>Z(r,s.target.value),sx:{flex:"1 1 120px"}},r))}),e.jsx(q,{sx:{my:4}}),e.jsxs(T,{direction:"row",spacing:4,flexWrap:"wrap",children:[e.jsxs(S,{flex:"1 1 250px",children:[e.jsx(a,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:t("unixConverter_formats")}),e.jsxs(a,{children:[t("unixConverter_date"),": ",new Date(i*1e3).toLocaleString()," UTC"]}),e.jsxs(a,{children:["ISO 8601: ",U.iso]}),e.jsxs(a,{children:["RFC 2822: ",U.rfc2822]}),e.jsxs(a,{children:[t("unixConverter_custom"),": ",U.custom]})]}),e.jsxs(S,{flex:"1 1 250px",children:[e.jsx(a,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,children:t("unixConverter_micro")}),e.jsxs(a,{children:[t("unixConverter_microseconds"),": ",i*1e6]}),e.jsxs(a,{children:[t("unixConverter_nanoseconds"),": ",i*1e9]})]})]})]}),e.jsxs(f,{elevation:3,sx:{p:4,mt:4},children:[e.jsx(a,{variant:"h5",gutterBottom:!0,children:t("unixConverter_timeZoneConverter")}),e.jsx(T,{direction:"row",spacing:2,flexWrap:"wrap",children:["year","month","day","hour","minute","second"].map(r=>e.jsx(y,{label:t(`unixConverter_${r}`),type:"number",value:g[r],onChange:o=>N(r,o.target.value),sx:{flex:"1 1 120px"}},r))}),e.jsx(a,{variant:"caption",color:w?"error":"text.secondary",mt:1,children:w||t("unixConverter_dateTimeFormat")}),e.jsx(T,{direction:"row",spacing:3,flexWrap:"wrap",mt:3,children:[{label:"sourceTimeZone",val:p,set:D},{label:"targetTimeZone",val:v,set:d}].map(({label:r,val:o,set:s})=>e.jsxs(R,{sx:{flex:"1 1 250px"},children:[e.jsx(Y,{children:t(`unixConverter_${r}`)}),e.jsx(K,{value:o,onChange:l=>s(l.target.value),label:t(`unixConverter_${r}`),children:Q.map(l=>e.jsx(H,{value:l,children:l},l))})]},r))}),e.jsxs(S,{mt:3,children:[e.jsxs(a,{children:[t("unixConverter_sourceTime"),": ",W||t("unixConverter_invalidDateTime")," (",p,")"]}),e.jsxs(a,{children:[t("unixConverter_targetTime"),": ",B||t("unixConverter_invalidDateTime")," (",v,")"]})]})]}),e.jsxs(f,{elevation:3,sx:{p:4,mt:4},children:[e.jsx(a,{variant:"h5",gutterBottom:!0,children:t("unixConverter_unitConverter")}),e.jsx(S,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:2,mt:2},children:Object.keys($).map(r=>e.jsx(y,{label:t(`unixConverter_unit_${r.toLowerCase()}`),value:$[r],onChange:E(r),type:"number"},r))})]})]})};export{re as default};
