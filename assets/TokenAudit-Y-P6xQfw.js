import{u as B,j as t,B as j,T as m,b as L,r as i,H as U,a0 as $,x as R,c as b,Y as z,P as K,a4 as N,a5 as G,a6 as A,a7 as f,a8 as q,a9 as J,aa as M}from"./index-exGm2h_p.js";import{h as D,E as Q}from"./jspdf.es.min-ehy-9fkj.js";import{A as Y}from"./Autocomplete-C0NusbO1.js";import{A as P}from"./Alert-D6E6ouCX.js";import{T as X}from"./TableContainer-Bd57Bbjp.js";import"./Close-6M-Fy8Wh.js";const Z="/rakshit-singh2/assets/Token_Badge-BWRdQ3LA.jpg",V=({badgeRef:e,badge:s,tokenAddress:l,riskScore:u,tokenName:p,tokenSymbol:o})=>{const x=B();return t.jsxs(j,{ref:e,mt:3,p:3,sx:{position:"relative",width:"100%",maxWidth:{xs:280,sm:320,md:350},minHeight:{xs:350,sm:380,md:400},height:"auto",backgroundImage:`url(${s})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,color:"white",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",gap:2,boxShadow:x.shadows[5],padding:{xs:"10px",sm:"15px",md:"20px"}},children:[t.jsx(m,{variant:"body2",sx:{fontStyle:"italic",fontWeight:"bold",color:"#FF4500",padding:"6px 10px",maxWidth:"90%",wordBreak:"break-word",whiteSpace:"normal",fontSize:{xs:"10px",sm:"12px",md:"14px"}},children:l}),t.jsxs(m,{variant:"h2",sx:{color:"#26F7FD",fontSize:{xs:"28px",sm:"36px",md:"48px"},marginTop:{xs:"-20px",sm:"-25px",md:"-30px"}},children:[u,"%"]}),t.jsxs(m,{variant:"h5",sx:{fontFamily:"'Dancing Script', cursive",color:"#FDDC5C",fontWeight:"bold",fontSize:{xs:"12px",sm:"16px",md:"20px"},padding:"6px 12px"},children:[p," (",o,")"]})]})},tt=async(e,s)=>{const l=`https://api.gopluslabs.io/api/v1/token_security/${s}`,u=new URLSearchParams({contract_addresses:e});try{const o=await(await fetch(`${l}?${u}`)).json(),x=Object.keys(o.result)[0];return o.message==="OK"?o.result[x]:null}catch(p){return console.error("Error fetching token security data:",p),null}},et=async()=>{try{const s=await(await fetch("https://api.gopluslabs.io/api/v1/supported_chains")).json();return s.message==="OK"?s.result:[]}catch{return alert("Error fetching chains. Please try later"),[]}},nt=e=>{let s=100;return e.is_honeypot==="1"&&(s-=50),e.owner_percent>50&&(s-=30),e.buy_tax>10&&(s-=10),e.sell_tax>10&&(s-=10),e.is_blacklisted==="1"&&(s-=40),e.is_open_source==="0"&&(s-=10),e.is_mintable==="1"&&(s-=20),e.is_in_dex==="0"&&(s-=10),Math.max(s,0)},lt=()=>{const{t:e}=L();B();const s=i.useRef(null),l=i.useRef(null),[u,p]=i.useState([]),[o,x]=i.useState(""),[g,I]=i.useState(""),[r,O]=i.useState(null),[w,v]=i.useState(!1),[C,S]=i.useState(null),[_,E]=i.useState(""),F=async()=>{if(s.current){const n=await D(s.current,{backgroundColor:null,useCORS:!0,scale:2}),a=n.getContext("2d"),c=20;a.globalCompositeOperation="destination-in",a.beginPath(),a.moveTo(c,0);const d=n.toDataURL("image/png"),h=document.createElement("a");h.href=d,h.download=`${r.token_name}_badge.png`,document.body.appendChild(h),h.click(),document.body.removeChild(h)}},W=async()=>{if(l.current){const n=await D(l.current,{scale:2,useCORS:!0});n.toDataURL("image/png");const a=new Q("p","mm","a4"),c=190,d=280,h=n.height*c/n.width;let k=0;for(;k<h;){const y=document.createElement("canvas");y.width=n.width,y.height=d*n.width/c,y.getContext("2d").drawImage(n,0,k*n.width/c,n.width,d*n.width/c,0,0,n.width,d*n.width/c);const T=y.toDataURL("image/png");k===0||a.addPage(),a.addImage(T,"PNG",10,10,c,d),k+=d}a.save(`${r.token_name}_record.pdf`)}};i.useEffect(()=>{(async()=>{const a=await et();a&&p(a)})()},[]),i.useEffect(()=>{r&&E(nt(r))},[r]);const H=async()=>{if(!o||!g){S("Please select a chain and enter a token address.");return}S(null),v(!0);const n=await tt(g,o);O(n),v(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs(U,{children:[t.jsx("title",{children:e("token_audit_meta_title")}),t.jsx("meta",{name:"description",content:e("token_audit_meta_description")}),t.jsx("meta",{name:"keywords",content:"Token Audit, Smart Contract Security, Risk Score, Honeypot Detector, Blockchain, Crypto Security, Web3"}),t.jsx("meta",{property:"og:title",content:e("token_audit_meta_title")}),t.jsx("meta",{property:"og:description",content:e("token_audit_meta_description")}),t.jsx("meta",{property:"og:image",content:"https://rakshit-singh2.github.io/rakshit-singh2token-audit-preview.png"}),t.jsx("meta",{property:"og:url",content:"https://rakshit-singh2.github.io/rakshit-singh2token-audit"}),t.jsx("meta",{property:"og:type",content:"website"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:title",content:e("token_audit_meta_title")}),t.jsx("meta",{name:"twitter:description",content:e("token_audit_meta_description")}),t.jsx("meta",{name:"twitter:image",content:"https://rakshit-singh2.github.io/rakshit-singh2/token-audit-preview.png"}),t.jsx("link",{rel:"icon",type:"image/png",href:"/favicon.ico"}),t.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Person",name:"Rakshit Kumar Singh",jobTitle:"Blockchain & Full-Stack Developer",email:"kumarrakshit745@aol.com",address:{"@type":"PostalAddress",addressLocality:"Faridabad",addressCountry:"India"},alumniOf:[{"@type":"CollegeOrUniversity",name:"DSEU Shakarpur-II Campus"},{"@type":"CollegeOrUniversity",name:"Dyal Singh College, University of Delhi"}],url:"https://rakshit-singh2.github.io/rakshit-singh2/",sameAs:["https://github.com/rakshit-singh2","https://www.linkedin.com/in/rakshit-kumar-singh-526a13146/","https://t.me/AgentDave007","mailto:kumarrakshit745@aol.com","https://www.reddit.com/user/AgentDave745/","https://discord.com/users/agentdave_745"]})})]}),t.jsxs(j,{p:3,maxWidth:"90vw",mx:"auto",textAlign:"center",minHeight:"80vh",sx:{mt:10},children:[t.jsx(m,{variant:"h4",gutterBottom:!0,children:e("token_audit_title")}),t.jsx(m,{variant:"body1",sx:{mb:3,color:"text_secondary",lineHeight:1.8},children:e("token_audit_description")}),t.jsx(m,{variant:"h6",sx:{mt:2,mb:1},children:e("token_audit_why_use_title")}),t.jsxs("ul",{style:{textAlign:"left",marginBottom:"24px"},children:[t.jsx("li",{children:e("token_audit_why_fast")}),t.jsx("li",{children:e("token_audit_why_multichain")}),t.jsx("li",{children:e("token_audit_why_detect")}),t.jsx("li",{children:e("token_audit_why_download")}),t.jsx("li",{children:e("token_audit_why_useful")})]}),t.jsx(m,{variant:"body2",color:"text_secondary",sx:{mb:2},children:e("token_audit_cta")}),t.jsxs(j,{display:"flex",flexDirection:"column",gap:2,children:[t.jsx($,{fullWidth:!0,children:t.jsx(Y,{options:u,getOptionLabel:n=>n.name,value:u.find(n=>n.id===o)||null,onChange:(n,a)=>x((a==null?void 0:a.id)||""),renderInput:n=>t.jsx(R,{...n,label:e("token_audit_select_chain"),variant:"outlined"}),isOptionEqualToValue:(n,a)=>n.id===a.id})}),t.jsx(R,{label:e("token_audit_token_address"),fullWidth:!0,value:g,onChange:n=>I(n.target.value)}),t.jsx(b,{variant:"contained",color:"primary",onClick:H,disabled:w,children:w?t.jsx(z,{size:24}):e("token_audit_check_button")})]}),C&&t.jsx(P,{severity:"error",sx:{mt:2},children:C}),r&&t.jsxs(t.Fragment,{children:[t.jsxs(P,{severity:_>90?"success":_>=51?"warning":"error",sx:{mt:2},children:[e("token_audit_audit_score"),": ",_,"%"]}),t.jsx(j,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:t.jsx(V,{badgeRef:s,badge:Z,tokenAddress:g,riskScore:_,tokenName:r.token_name,tokenSymbol:r.token_symbol})}),t.jsx(b,{variant:"outlined",onClick:F,sx:{mt:2},children:e("token_audit_download_badge")}),"Â ",t.jsx(b,{variant:"outlined",onClick:W,sx:{mt:2},children:e("token_audit_download_report")}),t.jsx(X,{ref:l,component:K,sx:{mt:3},children:t.jsxs(N,{children:[t.jsx(G,{children:t.jsxs(A,{children:[t.jsx(f,{children:e("token_audit_table_property")}),t.jsx(f,{children:e("token_audit_table_value")})]})}),t.jsx(q,{children:Object.entries(r).filter(([n,a])=>a!==""&&a!=null).map(([n,a])=>t.jsxs(A,{children:[t.jsx(f,{children:J(n)}),t.jsx(f,{children:M(a)})]},n))})]})})]})]})]})};export{lt as default};
