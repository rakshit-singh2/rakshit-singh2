function w(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function $(e){return w(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const L="2.22.13";let b={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${L}`};class a extends Error{constructor(t,n={}){var u;const r=(()=>{var c;return n.cause instanceof a?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof a&&n.cause.docsPath||n.docsPath,o=(u=b.getDocsUrl)==null?void 0:u.call(b,{...n,docsPath:i}),s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...b.version?[`Version: ${b.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=L}walk(t){return U(this,t)}}function U(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?U(e.cause,t):t?null:e}class Se extends a{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class H extends a{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function d(e,{dir:t,size:n=32}={}){return typeof e=="string"?C(e,{dir:t,size:n}):D(e,{dir:t,size:n})}function C(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new H({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function D(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new H({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=t==="right";r[o?i:n-i-1]=e[o?i:e.length-i-1]}return r}class V extends a{constructor({max:t,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class ke extends a{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class G extends a{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function g(e,{size:t}){if($(e)>t)throw new G({givenSize:$(e),maxSize:t})}function q(e,t={}){const{signed:n}=t;t.size&&g(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Ee(e,t={}){return Number(q(e,t))}const K=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function W(e,t={}){return typeof e=="number"||typeof e=="bigint"?_(e,t):typeof e=="string"?Y(e,t):typeof e=="boolean"?J(e,t):P(e,t)}function J(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(g(n,{size:t.size}),d(n,{size:t.size})):n}function P(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=K[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(g(r,{size:t.size}),d(r,{dir:"right",size:t.size})):r}function _(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<s){const c=typeof e=="bigint"?"n":"";throw new V({max:o?`${o}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${e}${c}`})}const u=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?d(u,{size:r}):u}const Q=new TextEncoder;function Y(e,t={}){const n=Q.encode(e);return P(n,t)}const Z=new TextEncoder;function ee(e,t={}){return typeof e=="number"||typeof e=="bigint"?ne(e,t):typeof e=="boolean"?te(e,t):w(e)?M(e,t):re(e,t)}function te(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(g(n,{size:t.size}),d(n,{size:t.size})):n}const f={zero:48,nine:57,A:65,F:70,a:97,f:102};function z(e){if(e>=f.zero&&e<=f.nine)return e-f.zero;if(e>=f.A&&e<=f.F)return e-(f.A-10);if(e>=f.a&&e<=f.f)return e-(f.a-10)}function M(e,t={}){let n=e;t.size&&(g(n,{size:t.size}),n=d(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let s=0,u=0;s<i;s++){const c=z(r.charCodeAt(u++)),h=z(r.charCodeAt(u++));if(c===void 0||h===void 0)throw new a(`Invalid byte sequence ("${r[u-2]}${r[u-1]}" in "${r}").`);o[s]=c*16+h}return o}function ne(e,t){const n=_(e,t);return M(n)}function re(e,t={}){const n=Z.encode(e);return typeof t.size=="number"?(g(n,{size:t.size}),d(n,{dir:"right",size:t.size})):n}function I(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ie(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function m(e,...t){if(!ie(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function A(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function se(e,t){m(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const x=BigInt(2**32-1),O=BigInt(32);function oe(e,t=!1){return t?{h:Number(e&x),l:Number(e>>O&x)}:{h:Number(e>>O&x)|0,l:Number(e&x)|0}}function ue(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=oe(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const ce=(e,t,n)=>e<<n|t>>>32-n,fe=(e,t,n)=>t<<n|e>>>32-n,ae=(e,t,n)=>t<<n-32|e>>>64-n,he=(e,t,n)=>e<<n-32|t>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function le(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}const S=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function de(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function k(e){for(let t=0;t<e.length;t++)e[t]=de(e[t])}function ge(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function N(e){return typeof e=="string"&&(e=ge(e)),m(e),e}class be{clone(){return this._cloneInto()}}function ye(e){const t=r=>e().update(N(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const j=[],F=[],v=[],pe=BigInt(0),y=BigInt(1),xe=BigInt(2),we=BigInt(7),me=BigInt(256),Be=BigInt(113);for(let e=0,t=y,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],j.push(2*(5*r+n)),F.push((e+1)*(e+2)/2%64);let i=pe;for(let o=0;o<7;o++)t=(t<<y^(t>>we)*Be)%me,t&xe&&(i^=y<<(y<<BigInt(o))-y);v.push(i)}const[$e,ze]=ue(v,!0),E=(e,t,n)=>n>32?ae(e,t,n):ce(e,t,n),T=(e,t,n)=>n>32?he(e,t,n):fe(e,t,n);function Ie(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const u=(s+8)%10,c=(s+2)%10,h=n[c],l=n[c+1],R=E(h,l,1)^n[u],X=T(h,l,1)^n[u+1];for(let p=0;p<50;p+=10)e[s+p]^=R,e[s+p+1]^=X}let i=e[2],o=e[3];for(let s=0;s<24;s++){const u=F[s],c=E(i,o,u),h=T(i,o,u),l=j[s];i=e[l],o=e[l+1],e[l]=c,e[l+1]=h}for(let s=0;s<50;s+=10){for(let u=0;u<10;u++)n[u]=e[s+u];for(let u=0;u<10;u++)e[s+u]^=~n[(u+2)%10]&n[(u+4)%10]}e[0]^=$e[r],e[1]^=ze[r]}n.fill(0)}class B extends be{constructor(t,n,r,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,I(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=le(this.state)}keccak(){S||k(this.state32),Ie(this.state32,this.rounds),S||k(this.state32),this.posOut=0,this.pos=0}update(t){A(this);const{blockLen:n,state:r}=this;t=N(t);const i=t.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);for(let u=0;u<s;u++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){A(this,!1),m(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=t.length;i<o;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,o-i);t.set(n.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return I(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(se(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new B(n,r,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}}const Ae=(e,t,n)=>ye(()=>new B(t,e,n)),Oe=Ae(1,136,256/8);function Te(e,t){const n=t||"hex",r=Oe(w(e,{strict:!1})?ee(e):e);return n==="bytes"?r:W(r)}export{a as B,V as I,Se as S,re as a,J as b,Y as c,g as d,P as e,ke as f,Ee as g,q as h,w as i,M as j,Te as k,W as l,_ as n,C as p,$ as s,ee as t};
