import{b as C,r as l,j as t,H as S,B as g,T as d,c as A,O as T,P as D,W as R,X as v}from"./index-DC3XBxMK.js";import{F as B,T as _}from"./TextField-DtSkZm5-.js";import{A as P,a as F}from"./Autocomplete-DOmTYNYK.js";import{T as E,a as I,b as O,c as k,d as u,e as U}from"./TableRow-B8_OS1RA.js";import"./isMuiElement-BbfKcGsm.js";const W=async()=>{try{const s=await(await fetch("https://api.gopluslabs.io/api/v1/supported_chains")).json();return s.message==="OK"?s.result:[]}catch{return alert("Error fetching chains"),[]}},H=async(e,s)=>{const n=`https://api.gopluslabs.io/api/v1/approval_security/${s}`,i=new URLSearchParams({contract_addresses:e});try{const o=await(await fetch(`${n}?${i}`)).json();return o.message==="ok"?o.result:null}catch(c){return console.error("Error fetching approval data:",c),null}},L=async()=>{if(redordRef.current){const e=await html2canvas(redordRef.current,{scale:2,useCORS:!0});e.toDataURL("image/png");const s=new jsPDF("p","mm","a4"),n=190,i=280,c=e.height*n/e.width;let o=0;for(;o<c;){const p=document.createElement("canvas");p.width=e.width,p.height=i*e.width/n,p.getContext("2d").drawImage(e,0,o*e.width/n,e.width,i*e.width/n,0,0,e.width,i*e.width/n);const h=p.toDataURL("image/png");o===0||s.addPage(),s.addImage(h,"PNG",10,10,n,i),o+=i}s.save(`${tokenData.token_name}_record.pdf`)}},q=()=>{const{t:e}=C(),[s,n]=l.useState([]),[i,c]=l.useState(""),[o,p]=l.useState(""),[m,h]=l.useState(null),[x,j]=l.useState(!1),[f,y]=l.useState(null),w=l.useRef(null);l.useEffect(()=>{(async()=>{const r=await W();n(r)})()},[]);const b=async()=>{if(!i||!o){y("Please provide chain and contract address.");return}y(null),j(!0);const a=await H(o,i);h(a),j(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs(S,{children:[t.jsx("title",{children:"Approval Audit | Check Smart Contract Safety Before Approving"}),t.jsx("meta",{name:"description",content:"Use our smart contract approval audit tool to check if a contract is safe before giving approvals. Analyze token contracts, proxy patterns, ownership, selfdestruct, blacklist, and more."}),t.jsx("meta",{name:"keywords",content:"Smart Contract Audit, Approval Audit, DeFi Security, NFT Contract Risk, Web3 Security Tools, Token Approval Checker, Proxy Contract Detection, Blockchain Security, Contract Risk Score, Web3 Audit Tool"}),t.jsx("meta",{property:"og:title",content:"Approval Audit | Check Smart Contract Safety Before Approving"}),t.jsx("meta",{property:"og:description",content:"Easily analyze token and NFT smart contracts for risky behavior before approvals. Check ownership, proxy patterns, blacklist status, and more."}),t.jsx("meta",{property:"og:image",content:"https://rakshit-singh2.github.io/rakshit-singh2/approval-audit-preview.png"}),t.jsx("meta",{property:"og:url",content:"https://rakshit-singh2.github.io/rakshit-singh2/approval-audit"}),t.jsx("meta",{property:"og:type",content:"website"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:title",content:"Approval Audit | Check Smart Contract Safety Before Approving"}),t.jsx("meta",{name:"twitter:description",content:"Check if a smart contract is safe to approve. Use our audit feature to detect risky permissions, owner privileges, and contract behaviors."}),t.jsx("meta",{name:"twitter:image",content:"https://rakshit-singh2.github.io/rakshit-singh2/approval-audit-preview.png"}),t.jsx("link",{rel:"icon",type:"image/png",href:"/favicon.ico"}),t.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Person",name:"Rakshit Kumar Singh",jobTitle:"Blockchain & Full-Stack Developer",email:"kumarrakshit745@aol.com",address:{"@type":"PostalAddress",addressLocality:"Faridabad",addressCountry:"India"},alumniOf:[{"@type":"CollegeOrUniversity",name:"DSEU Shakarpur-II Campus"},{"@type":"CollegeOrUniversity",name:"Dyal Singh College, University of Delhi"}],url:"https://rakshit-singh2.github.io/rakshit-singh2/",sameAs:["https://github.com/rakshit-singh2","https://www.linkedin.com/in/rakshit-kumar-singh-526a13146/","https://t.me/AgentDave007","mailto:kumarrakshit745@aol.com","https://www.reddit.com/user/AgentDave745/","https://discord.com/users/agentdave_745"]})})]}),t.jsxs(g,{p:3,maxWidth:"90vw",mx:"auto",textAlign:"center",minHeight:"80vh",sx:{mt:10},children:[t.jsx(d,{variant:"h4",gutterBottom:!0,children:e("approvalAudit_title")}),t.jsxs(g,{textAlign:"left",mb:4,children:[t.jsx(d,{variant:"h5",gutterBottom:!0,children:e("approvalAudit_subtitle")}),t.jsx(d,{children:e("approvalAudit_description")}),t.jsx(d,{variant:"subtitle1",gutterBottom:!0,children:e("approvalAudit_why_title")}),t.jsxs("ul",{children:[t.jsx("li",{children:e("approvalAudit_why_1")}),t.jsx("li",{children:e("approvalAudit_why_2")}),t.jsx("li",{children:e("approvalAudit_why_3")}),t.jsx("li",{children:e("approvalAudit_why_4")})]}),t.jsx(d,{variant:"subtitle1",gutterBottom:!0,children:e("approvalAudit_features_title")}),t.jsxs("ul",{children:[t.jsx("li",{children:e("approvalAudit_feature_1")}),t.jsx("li",{children:e("approvalAudit_feature_2")}),t.jsx("li",{children:e("approvalAudit_feature_3")}),t.jsx("li",{children:e("approvalAudit_feature_4")}),t.jsx("li",{children:e("approvalAudit_feature_5")}),t.jsx("li",{children:e("approvalAudit_feature_6")})]})]}),t.jsxs(g,{display:"flex",flexDirection:"column",gap:2,mb:4,children:[t.jsx(B,{fullWidth:!0,children:t.jsx(P,{options:s,getOptionLabel:a=>a.name,value:s.find(a=>a.id===i)||null,onChange:(a,r)=>c((r==null?void 0:r.id)||""),renderInput:a=>t.jsx(_,{...a,label:e("approvalAudit_select_chain"),variant:"outlined"}),isOptionEqualToValue:(a,r)=>a.id===r.id})}),t.jsx(_,{label:e("approvalAudit_address_input"),fullWidth:!0,value:o,onChange:a=>p(a.target.value)}),t.jsx(A,{variant:"contained",onClick:b,disabled:x,children:x?t.jsx(T,{size:24}):e("approvalAudit_check_button")}),f&&t.jsx(F,{severity:"error",children:f})]}),m&&t.jsxs(t.Fragment,{children:[t.jsx(A,{variant:"outlined",onClick:L,sx:{mt:2},children:e("approvalAudit_download_button")}),t.jsx(E,{ref:w,component:D,sx:{mt:3},children:t.jsxs(I,{children:[t.jsx(O,{children:t.jsxs(k,{children:[t.jsx(u,{children:e("approvalAudit_table_property")}),t.jsx(u,{children:e("approvalAudit_table_value")})]})}),t.jsx(U,{children:Object.entries(m).filter(([a,r])=>r!==""&&r!=null).map(([a,r])=>t.jsxs(k,{children:[t.jsx(u,{children:R(a)}),t.jsx(u,{children:v(r)==="0"?e("approvalAudit_value_no"):v(r)==="1"?e("approvalAudit_value_yes"):v(r)})]},a))})]})})]})]})]})};export{q as default};
