import{u as P,j as e,B as y,T as j,r as i,H,O as L,K as z,P as $}from"./index-cTHjFwIc.js";import{A as R,T as U,a as K,b as G,c as I,d as f,e as M,h as D,E as Y}from"./jspdf.es.min-BABCRy8a.js";import{F as Q,I as q,S as J,T as X}from"./TextField-Vy-MpxYF.js";import{B as C}from"./Button-enJ6OFBE.js";import"./isMuiElement-QyKninAN.js";const Z="/rakshit-singh2/assets/Token_Badge-BWRdQ3LA.jpg",V=({badgeRef:n,badge:s,tokenAddress:a,riskScore:p,tokenName:c,tokenSymbol:h})=>{const o=P();return e.jsxs(y,{ref:n,mt:3,p:3,sx:{position:"relative",width:"100%",maxWidth:{xs:280,sm:320,md:350},minHeight:{xs:350,sm:380,md:400},height:"auto",backgroundImage:`url(${s})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,color:"white",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",gap:2,boxShadow:o.shadows[5],padding:{xs:"10px",sm:"15px",md:"20px"}},children:[e.jsx(j,{variant:"body2",sx:{fontStyle:"italic",fontWeight:"bold",color:"#FF4500",padding:"6px 10px",maxWidth:"90%",wordBreak:"break-word",whiteSpace:"normal",fontSize:{xs:"10px",sm:"12px",md:"14px"}},children:a}),e.jsxs(j,{variant:"h2",sx:{color:"#26F7FD",fontSize:{xs:"28px",sm:"36px",md:"48px"},marginTop:{xs:"-20px",sm:"-25px",md:"-30px"}},children:[p,"%"]}),e.jsxs(j,{variant:"h5",sx:{fontFamily:"'Dancing Script', cursive",color:"#FDDC5C",fontWeight:"bold",fontSize:{xs:"12px",sm:"16px",md:"20px"},padding:"6px 12px"},children:[c," (",h,")"]})]})},ee=async(n,s)=>{const a=`https://api.gopluslabs.io/api/v1/token_security/${s}`,p=new URLSearchParams({contract_addresses:n});try{const h=await(await fetch(`${a}?${p}`)).json(),o=Object.keys(h.result)[0];return h.message==="OK"?h.result[o]:null}catch(c){return console.error("Error fetching token security data:",c),null}},te=async()=>{try{const s=await(await fetch("https://api.gopluslabs.io/api/v1/supported_chains")).json();return s.message==="OK"?s.result:[]}catch{return alert("Error fetching chains. Please try later"),[]}},ne=n=>{let s=100;return n.is_honeypot==="1"&&(s-=50),n.owner_percent>50&&(s-=30),n.buy_tax>10&&(s-=10),n.sell_tax>10&&(s-=10),n.is_blacklisted==="1"&&(s-=40),n.is_open_source==="0"&&(s-=10),n.is_mintable==="1"&&(s-=20),n.is_in_dex==="0"&&(s-=10),Math.max(s,0)},B=n=>isNaN(parseInt(n))?n.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase()):parseInt(n)+1,k=n=>typeof n=="object"&&n!==null?e.jsx("ul",{className:"nested-list",children:Object.entries(n).filter(([s,a])=>a!==""&&a!=null).map(([s,a])=>a!==""&&e.jsxs("li",{children:[e.jsxs("strong",{className:"number",children:[B(s),":"]})," ",typeof a=="object"&&a!==null?k(a):a==="0"||a===0?"No":a==="1"||a===1?"Yes":a]},s))}):n,le=()=>{const[n,s]=i.useState([]),[a,p]=i.useState(""),[c,h]=i.useState(""),[o,E]=i.useState(null),[S,v]=i.useState(!1),[T,_]=i.useState(null),[x,F]=i.useState(""),w=i.useRef(null),b=i.useRef(null);P();const W=async()=>{if(w.current){const t=await D(w.current,{backgroundColor:null,useCORS:!0,scale:2}),r=t.getContext("2d"),l=20;r.globalCompositeOperation="destination-in",r.beginPath(),r.moveTo(l,0);const d=t.toDataURL("image/png"),m=document.createElement("a");m.href=d,m.download=`${o.token_name}_badge.png`,document.body.appendChild(m),m.click(),document.body.removeChild(m)}},N=async()=>{if(b.current){const t=await D(b.current,{scale:2,useCORS:!0});t.toDataURL("image/png");const r=new Y("p","mm","a4"),l=190,d=280,m=t.height*l/t.width;let u=0;for(;u<m;){const g=document.createElement("canvas");g.width=t.width,g.height=d*t.width/l,g.getContext("2d").drawImage(t,0,u*t.width/l,t.width,d*t.width/l,0,0,t.width,d*t.width/l);const A=g.toDataURL("image/png");u===0||r.addPage(),r.addImage(A,"PNG",10,10,l,d),u+=d}r.save(`${o.token_name}_record.pdf`)}};i.useEffect(()=>{(async()=>{const r=await te();r&&s(r)})()},[]),i.useEffect(()=>{o&&F(ne(o))},[o]);const O=async()=>{if(!a||!c){_("Please select a chain and enter a token address.");return}_(null),v(!0);const t=await ee(c,a);E(t),v(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(H,{children:[e.jsx("title",{children:"Token Audit | Check Smart Contract Security & Risk Score"}),e.jsx("meta",{name:"description",content:"Analyze the security of smart contracts and tokens with an audit score checker. Detect honeypots, high taxes, and owner risks."}),e.jsx("meta",{name:"keywords",content:"Token Audit, Smart Contract Security, Risk Score, Honeypot Detector, Blockchain, Crypto Security, Web3"}),e.jsx("meta",{property:"og:title",content:"Token Audit | Check Smart Contract Security & Risk Score"}),e.jsx("meta",{property:"og:description",content:"Easily check the security and risk score of tokens on multiple blockchains. Detect scams and vulnerabilities before investing."}),e.jsx("meta",{property:"og:image",content:"https://yourwebsite.com/token-audit-preview.png"}),e.jsx("meta",{property:"og:url",content:"https://yourwebsite.com/token-audit"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Token Audit | Smart Contract Security & Risk Score"}),e.jsx("meta",{name:"twitter:description",content:"Audit your token and smart contract security. Detect honeypots, high taxes, and contract risks with a simple tool."}),e.jsx("meta",{name:"twitter:image",content:"https://yourwebsite.com/token-audit-preview.png"}),e.jsx("link",{rel:"icon",type:"image/png",href:"/favicon.ico"})]}),e.jsxs(y,{p:3,maxWidth:800,mx:"auto",textAlign:"center",minHeight:"100vh",children:[e.jsx(j,{variant:"h4",gutterBottom:!0,children:"Audit Score Checker"}),e.jsxs(y,{display:"flex",flexDirection:"column",gap:2,children:[e.jsxs(Q,{fullWidth:!0,children:[e.jsx(q,{id:"chain-label",children:"Select a Chain"}),e.jsx(J,{labelId:"chain-label",id:"chain",value:a,label:"Select a Chain",onChange:t=>p(t.target.value),children:n.map(t=>e.jsx(L,{value:t.id,children:t.name},t.id))})]}),e.jsx(X,{label:"Enter Token Address",fullWidth:!0,value:c,onChange:t=>h(t.target.value)}),e.jsx(C,{variant:"contained",color:"primary",onClick:O,disabled:S,children:S?e.jsx(z,{size:24}):"Check Audit Score"})]}),T&&e.jsx(R,{severity:"error",sx:{mt:2},children:T}),o&&e.jsxs(e.Fragment,{children:[e.jsxs(R,{severity:x>90?"success":x>=51?"warning":"error",sx:{mt:2},children:["Audit Score: ",x,"%"]}),e.jsx(y,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(V,{badgeRef:w,badge:Z,tokenAddress:c,riskScore:x,tokenName:o.token_name,tokenSymbol:o.token_symbol})}),e.jsx(C,{variant:"outlined",onClick:W,sx:{mt:2},children:"Download Audit badge"}),"Â ",e.jsx(C,{variant:"outlined",onClick:N,sx:{mt:2},children:"Download Audit record"}),e.jsx(U,{ref:b,component:$,sx:{mt:3},children:e.jsxs(K,{children:[e.jsx(G,{children:e.jsxs(I,{children:[e.jsx(f,{children:"Property"}),e.jsx(f,{children:"Value"})]})}),e.jsx(M,{children:Object.entries(o).filter(([t,r])=>r!==""&&r!=null).map(([t,r])=>r!==""&&e.jsxs(I,{children:[e.jsx(f,{children:B(t)}),e.jsx(f,{children:k(r)==="0"?"No":k(r)==="1"?"Yes":k(r)})]},t))})]})})]})]})]})};export{le as default};
