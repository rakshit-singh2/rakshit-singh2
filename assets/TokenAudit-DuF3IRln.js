import{r as i,u as B,j as e,H,B as b,T as O,O as D,K as F,P as L}from"./index-CP_6WqpT.js";import{A as T,T as W,a as K,b as U,c as _,d as u,e as $,h as z,E as G}from"./jspdf.es.min-C-RjH6o7.js";import{F as M,I as Y,S as q,T as J}from"./TextField-aqMlhUHa.js";import{B as A}from"./Button-owT_K9Z5.js";import"./isMuiElement-DiHUXwhb.js";const Q=async(s,r)=>{const n=`https://api.gopluslabs.io/api/v1/token_security/${r}`,g=new URLSearchParams({contract_addresses:s});try{const h=await(await fetch(`${n}?${g}`)).json(),o=Object.keys(h.result)[0];return h.message==="OK"?h.result[o]:null}catch(l){return console.error("Error fetching token security data:",l),null}},X=async()=>{try{const r=await(await fetch("https://api.gopluslabs.io/api/v1/supported_chains")).json();return r.message==="OK"?r.result:[]}catch{return alert("Error fetching chains. Please try later"),[]}},Z=s=>{let r=100;return s.is_honeypot==="1"&&(r-=50),s.owner_percent>50&&(r-=30),s.buy_tax>10&&(r-=10),s.sell_tax>10&&(r-=10),s.is_blacklisted==="1"&&(r-=40),s.is_open_source==="0"&&(r-=10),s.is_mintable==="1"&&(r-=20),s.is_in_dex==="0"&&(r-=10),Math.max(r,0)},v=s=>isNaN(parseInt(s))?s.replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase()):parseInt(s)+1,x=s=>typeof s=="object"&&s!==null?e.jsx("ul",{className:"nested-list",children:Object.entries(s).filter(([r,n])=>n!==""&&n!=null).map(([r,n])=>n!==""&&e.jsxs("li",{children:[e.jsxs("strong",{className:"number",children:[v(r),":"]})," ",typeof n=="object"&&n!==null?x(n):n==="0"||n===0?"No":n==="1"||n===1?"Yes":n]},r))}):s,ae=()=>{const[s,r]=i.useState([]),[n,g]=i.useState(""),[l,h]=i.useState(""),[o,R]=i.useState(null),[y,w]=i.useState(!1),[k,S]=i.useState(null),[f,I]=i.useState("");i.useRef(null);const j=i.useRef(null);B();const E=async()=>{if(j.current){const t=await z(j.current,{scale:2,useCORS:!0});t.toDataURL("image/png");const a=new G("p","mm","a4"),c=190,d=280,N=t.height*c/t.width;let m=0;for(;m<N;){const p=document.createElement("canvas");p.width=t.width,p.height=d*t.width/c,p.getContext("2d").drawImage(t,0,m*t.width/c,t.width,d*t.width/c,0,0,t.width,d*t.width/c);const C=p.toDataURL("image/png");m===0||a.addPage(),a.addImage(C,"PNG",10,10,c,d),m+=d}a.save(`${o.token_name}_record.pdf`)}};i.useEffect(()=>{(async()=>{const a=await X();a&&r(a)})()},[]),i.useEffect(()=>{o&&I(Z(o))},[o]);const P=async()=>{if(!n||!l){S("Please select a chain and enter a token address.");return}S(null),w(!0);const t=await Q(l,n);R(t),w(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(H,{children:[e.jsx("title",{children:"Token Audit | Check Smart Contract Security & Risk Score"}),e.jsx("meta",{name:"description",content:"Analyze the security of smart contracts and tokens with an audit score checker. Detect honeypots, high taxes, and owner risks."}),e.jsx("meta",{name:"keywords",content:"Token Audit, Smart Contract Security, Risk Score, Honeypot Detector, Blockchain, Crypto Security, Web3"}),e.jsx("meta",{property:"og:title",content:"Token Audit | Check Smart Contract Security & Risk Score"}),e.jsx("meta",{property:"og:description",content:"Easily check the security and risk score of tokens on multiple blockchains. Detect scams and vulnerabilities before investing."}),e.jsx("meta",{property:"og:image",content:"https://yourwebsite.com/token-audit-preview.png"}),e.jsx("meta",{property:"og:url",content:"https://yourwebsite.com/token-audit"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Token Audit | Smart Contract Security & Risk Score"}),e.jsx("meta",{name:"twitter:description",content:"Audit your token and smart contract security. Detect honeypots, high taxes, and contract risks with a simple tool."}),e.jsx("meta",{name:"twitter:image",content:"https://yourwebsite.com/token-audit-preview.png"}),e.jsx("link",{rel:"icon",type:"image/png",href:"/favicon.ico"})]}),e.jsxs(b,{p:3,maxWidth:800,mx:"auto",textAlign:"center",minHeight:"100vh",children:[e.jsx(O,{variant:"h4",gutterBottom:!0,children:"Audit Score Checker"}),e.jsxs(b,{display:"flex",flexDirection:"column",gap:2,children:[e.jsxs(M,{fullWidth:!0,children:[e.jsx(Y,{id:"chain-label",children:"Select a Chain"}),e.jsx(q,{labelId:"chain-label",id:"chain",value:n,label:"Select a Chain",onChange:t=>g(t.target.value),children:s.map(t=>e.jsx(D,{value:t.id,children:t.name},t.id))})]}),e.jsx(J,{label:"Enter Token Address",fullWidth:!0,value:l,onChange:t=>h(t.target.value)}),e.jsx(A,{variant:"contained",color:"primary",onClick:P,disabled:y,children:y?e.jsx(F,{size:24}):"Check Audit Score"})]}),k&&e.jsx(T,{severity:"error",sx:{mt:2},children:k}),o&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{severity:f>90?"success":f>=51?"warning":"error",sx:{mt:2},children:["Audit Score: ",f,"%"]}),e.jsx(A,{variant:"outlined",onClick:E,sx:{mt:2},children:"Download Audit record"}),e.jsx(W,{ref:j,component:L,sx:{mt:3},children:e.jsxs(K,{children:[e.jsx(U,{children:e.jsxs(_,{children:[e.jsx(u,{children:"Property"}),e.jsx(u,{children:"Value"})]})}),e.jsx($,{children:Object.entries(o).filter(([t,a])=>a!==""&&a!=null).map(([t,a])=>a!==""&&e.jsxs(_,{children:[e.jsx(u,{children:v(t)}),e.jsx(u,{children:x(a)==="0"?"No":x(a)==="1"?"Yes":x(a)})]},t))})]})})]})]})]})};export{ae as default};
