import{u as F,j as e,B as b,T as u,b as U,r as o,H as $,c as w,V as z,P as K,a4 as N,a5 as G,Q}from"./index-Dinank5m.js";import{h as A,E as q}from"./jspdf.es.min-BtiAbSSb.js";import{F as J,T as D}from"./TextField-CWZIIAdM.js";import{A as M}from"./Autocomplete-pnbL820r.js";import{A as P}from"./Alert-DSUO1sDz.js";import{T as X}from"./TableContainer-DaF8wGWM.js";import{T as Y,a as Z,b as B,c as j,d as V}from"./TableRow-CeDMEuOe.js";import"./isMuiElement-b7PTC7rC.js";import"./Close-BRGfxbDm.js";const tt="/rakshit-singh2/assets/Token_Badge-BWRdQ3LA.jpg",et=({badgeRef:n,badge:i,tokenAddress:h,riskScore:p,tokenName:x,tokenSymbol:r})=>{const g=F();return e.jsxs(b,{ref:n,mt:3,p:3,sx:{position:"relative",width:"100%",maxWidth:{xs:280,sm:320,md:350},minHeight:{xs:350,sm:380,md:400},height:"auto",backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:3,color:"white",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",gap:2,boxShadow:g.shadows[5],padding:{xs:"10px",sm:"15px",md:"20px"}},children:[e.jsx(u,{variant:"body2",sx:{fontStyle:"italic",fontWeight:"bold",color:"#FF4500",padding:"6px 10px",maxWidth:"90%",wordBreak:"break-word",whiteSpace:"normal",fontSize:{xs:"10px",sm:"12px",md:"14px"}},children:h}),e.jsxs(u,{variant:"h2",sx:{color:"#26F7FD",fontSize:{xs:"28px",sm:"36px",md:"48px"},marginTop:{xs:"-20px",sm:"-25px",md:"-30px"}},children:[p,"%"]}),e.jsxs(u,{variant:"h5",sx:{fontFamily:"'Dancing Script', cursive",color:"#FDDC5C",fontWeight:"bold",fontSize:{xs:"12px",sm:"16px",md:"20px"},padding:"6px 12px"},children:[x," (",r,")"]})]})},nt=async(n,i)=>{const h=`https://api.gopluslabs.io/api/v1/token_security/${i}`,p=new URLSearchParams({contract_addresses:n});try{const r=await(await fetch(`${h}?${p}`)).json(),g=Object.keys(r.result)[0];return r.message==="OK"?r.result[g]:null}catch(x){return console.error("Error fetching token security data:",x),null}},st=async()=>{try{const i=await(await fetch("https://api.gopluslabs.io/api/v1/supported_chains")).json();return i.message==="OK"?i.result:[]}catch{return Q.error(t("Error fetching chains. Please try later")),[]}},at=n=>{let i=100;return n.is_honeypot==="1"&&(i-=50),n.owner_percent>50&&(i-=30),n.buy_tax>10&&(i-=10),n.sell_tax>10&&(i-=10),n.is_blacklisted==="1"&&(i-=40),n.is_open_source==="0"&&(i-=10),n.is_mintable==="1"&&(i-=20),n.is_in_dex==="0"&&(i-=10),Math.max(i,0)},xt=()=>{const{t:n}=U();F();const i=o.useRef(null),h=o.useRef(null),[p,x]=o.useState([]),[r,g]=o.useState(""),[_,I]=o.useState(""),[c,O]=o.useState(null),[v,C]=o.useState(!1),[S,T]=o.useState(null),[k,E]=o.useState(""),W=async()=>{if(i.current){const s=await A(i.current,{backgroundColor:null,useCORS:!0,scale:2}),a=s.getContext("2d"),d=20;a.globalCompositeOperation="destination-in",a.beginPath(),a.moveTo(d,0);const l=s.toDataURL("image/png"),m=document.createElement("a");m.href=l,m.download=`${c.token_name}_badge.png`,document.body.appendChild(m),m.click(),document.body.removeChild(m)}},H=async()=>{if(h.current){const s=await A(h.current,{scale:2,useCORS:!0});s.toDataURL("image/png");const a=new q("p","mm","a4"),d=190,l=280,m=s.height*d/s.width;let y=0;for(;y<m;){const f=document.createElement("canvas");f.width=s.width,f.height=l*s.width/d,f.getContext("2d").drawImage(s,0,y*s.width/d,s.width,l*s.width/d,0,0,s.width,l*s.width/d);const R=f.toDataURL("image/png");y===0||a.addPage(),a.addImage(R,"PNG",10,10,d,l),y+=l}a.save(`${c.token_name}_record.pdf`)}};o.useEffect(()=>{(async()=>{const a=await st();a&&x(a)})()},[]),o.useEffect(()=>{c&&E(at(c))},[c]);const L=async()=>{if(!r||!_){T("Please select a chain and enter a token address.");return}T(null),C(!0);const s=await nt(_,r);O(s),C(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsx("title",{children:n("token_audit_meta_title")}),e.jsx("meta",{name:"description",content:n("token_audit_meta_description")}),e.jsx("meta",{name:"keywords",content:"Token Audit, Smart Contract Security, Risk Score, Honeypot Detector, Blockchain, Crypto Security, Web3"}),e.jsx("meta",{property:"og:title",content:n("token_audit_meta_title")}),e.jsx("meta",{property:"og:description",content:n("token_audit_meta_description")}),e.jsx("meta",{property:"og:image",content:"https://rakshit-singh2.github.io/rakshit-singh2token-audit-preview.png"}),e.jsx("meta",{property:"og:url",content:"https://rakshit-singh2.github.io/rakshit-singh2token-audit"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:n("token_audit_meta_title")}),e.jsx("meta",{name:"twitter:description",content:n("token_audit_meta_description")}),e.jsx("meta",{name:"twitter:image",content:"https://rakshit-singh2.github.io/rakshit-singh2/token-audit-preview.png"}),e.jsx("link",{rel:"icon",type:"image/png",href:"/favicon.ico"}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Person",name:"Rakshit Kumar Singh",jobTitle:"Blockchain & Full-Stack Developer",email:"kumarrakshit745@aol.com",address:{"@type":"PostalAddress",addressLocality:"Faridabad",addressCountry:"India"},alumniOf:[{"@type":"CollegeOrUniversity",name:"DSEU Shakarpur-II Campus"},{"@type":"CollegeOrUniversity",name:"Dyal Singh College, University of Delhi"}],url:"https://rakshit-singh2.github.io/rakshit-singh2/",sameAs:["https://github.com/rakshit-singh2","https://www.linkedin.com/in/rakshit-kumar-singh-526a13146/","https://t.me/AgentDave007","mailto:kumarrakshit745@aol.com","https://www.reddit.com/user/AgentDave745/","https://discord.com/users/agentdave_745"]})})]}),e.jsxs(b,{p:3,maxWidth:"90vw",mx:"auto",textAlign:"center",minHeight:"80vh",sx:{mt:10},children:[e.jsx(u,{variant:"h4",gutterBottom:!0,children:n("token_audit_title")}),e.jsx(u,{variant:"body1",sx:{mb:3,color:"text_secondary",lineHeight:1.8},children:n("token_audit_description")}),e.jsx(u,{variant:"h6",sx:{mt:2,mb:1},children:n("token_audit_why_use_title")}),e.jsxs("ul",{style:{textAlign:"left",marginBottom:"24px"},children:[e.jsx("li",{children:n("token_audit_why_fast")}),e.jsx("li",{children:n("token_audit_why_multichain")}),e.jsx("li",{children:n("token_audit_why_detect")}),e.jsx("li",{children:n("token_audit_why_download")}),e.jsx("li",{children:n("token_audit_why_useful")})]}),e.jsx(u,{variant:"body2",color:"text_secondary",sx:{mb:2},children:n("token_audit_cta")}),e.jsxs(b,{display:"flex",flexDirection:"column",gap:2,children:[e.jsx(J,{fullWidth:!0,children:e.jsx(M,{options:p,getOptionLabel:s=>s.name,value:p.find(s=>s.id===r)||null,onChange:(s,a)=>g((a==null?void 0:a.id)||""),renderInput:s=>e.jsx(D,{...s,label:n("token_audit_select_chain"),variant:"outlined"}),isOptionEqualToValue:(s,a)=>s.id===a.id})}),e.jsx(D,{label:n("token_audit_token_address"),fullWidth:!0,value:_,onChange:s=>I(s.target.value)}),e.jsx(w,{variant:"contained",color:"primary",onClick:L,disabled:v,children:v?e.jsx(z,{size:24}):n("token_audit_check_button")})]}),S&&e.jsx(P,{severity:"error",sx:{mt:2},children:S}),c&&e.jsxs(e.Fragment,{children:[e.jsxs(P,{severity:k>90?"success":k>=51?"warning":"error",sx:{mt:2},children:[n("token_audit_audit_score"),": ",k,"%"]}),e.jsx(b,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(et,{badgeRef:i,badge:tt,tokenAddress:_,riskScore:k,tokenName:c.token_name,tokenSymbol:c.token_symbol})}),e.jsx(w,{variant:"outlined",onClick:W,sx:{mt:2},children:n("token_audit_download_badge")}),"Â ",e.jsx(w,{variant:"outlined",onClick:H,sx:{mt:2},children:n("token_audit_download_report")}),e.jsx(X,{ref:h,component:K,sx:{mt:3},children:e.jsxs(Y,{children:[e.jsx(Z,{children:e.jsxs(B,{children:[e.jsx(j,{children:n("token_audit_table_property")}),e.jsx(j,{children:n("token_audit_table_value")})]})}),e.jsx(V,{children:Object.entries(c).filter(([s,a])=>a!==""&&a!=null).map(([s,a])=>e.jsxs(B,{children:[e.jsx(j,{children:N(s)}),e.jsx(j,{children:G(a)})]},s))})]})})]})]})]})};export{xt as default};
