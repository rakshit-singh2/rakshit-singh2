import{b as ie,u as re,r as S,j as e,B as M,H as ne,T as k,c as V,$ as Q}from"./index-kleb4qTx.js";import{J as oe}from"./jszip.min--DR8gFuq.js";import{T as le,a as Y}from"./Tabs-BwiahijG.js";import{T as D,b as he}from"./TextField-CeqtEnmN.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./isMuiElement-BG2dRjU4.js";var K={exports:{}},ee;function ce(){return ee||(ee=1,function(s,te){(function(y,z){s.exports=z()})(self,()=>(()=>{var y={d:(t,a)=>{for(var o in a)y.o(a,o)&&!y.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:a[o]})},o:(t,a)=>Object.prototype.hasOwnProperty.call(t,a),r:t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},z={};function $(){return document.createElement("canvas")}function U(t){for(var a=atob(t.split(",")[1]),o=t.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(a.length),x=new Uint8Array(n),m=0;m<a.length;m++)x[m]=a.charCodeAt(m);return new Blob([n],{type:o})}function L(t,a){var o=a.width/a.height,n=Math.min(a.width,t.maxWidth,o*t.maxHeight);return t.maxSize>0&&t.maxSize<a.width*a.height/1e3&&(n=Math.min(n,Math.floor(1e3*t.maxSize/a.height))),t.scaleRatio&&(n=Math.min(n,Math.floor(t.scaleRatio*a.width))),t.debug&&(console.log("browser-image-resizer: original image size = "+a.width+" px (width) X "+a.height+" px (height)"),console.log("browser-image-resizer: scaled image size = "+n+" px (width) X "+Math.floor(n/o)+" px (height)")),n<=0&&(n=1,console.warn("browser-image-resizer: image size is too small")),n}function H(t,a){var o=document.createElement("canvas"),n=a.outputWidth/t.width;o.width=t.width*n,o.height=t.height*n;var x=t.getContext("2d").getImageData(0,0,t.width,t.height),m=o.getContext("2d").createImageData(o.width,o.height);return function(i,p,T){function O(I,F,ae,se,q,J){var Z=1-q,X=1-J;return I*Z*X+F*q*X+ae*Z*J+se*q*J}var d,b,c,l,w,v,C,A,P,r,h,j,_,u,g,R,E,B,f;for(d=0;d<p.height;++d)for(c=d/T,l=Math.floor(c),w=Math.ceil(c)>i.height-1?i.height-1:Math.ceil(c),b=0;b<p.width;++b)v=b/T,C=Math.floor(v),A=Math.ceil(v)>i.width-1?i.width-1:Math.ceil(v),P=4*(b+p.width*d),r=4*(C+i.width*l),h=4*(A+i.width*l),j=4*(C+i.width*w),_=4*(A+i.width*w),u=v-C,g=c-l,R=O(i.data[r],i.data[h],i.data[j],i.data[_],u,g),p.data[P]=R,E=O(i.data[r+1],i.data[h+1],i.data[j+1],i.data[_+1],u,g),p.data[P+1]=E,B=O(i.data[r+2],i.data[h+2],i.data[j+2],i.data[_+2],u,g),p.data[P+2]=B,f=O(i.data[r+3],i.data[h+3],i.data[j+3],i.data[_+3],u,g),p.data[P+3]=f}(x,m,n),o.getContext("2d").putImageData(m,0,0),o}function N(t){var a=document.createElement("canvas");return a.width=t.width/2,a.height=t.height/2,a.getContext("2d").drawImage(t,0,0,a.width,a.height),a}y.r(z),y.d(z,{readAndCompressImage:()=>G});var W={quality:.5,maxWidth:800,maxHeight:600,autoRotate:!0,debug:!1,mimeType:"image/jpeg"};function G(t,a){return new Promise(function(o,n){var x=document.createElement("img"),m=new FileReader,i=Object.assign({},W,a);m.onload=function(p){x.onerror=function(){n("cannot load image.")},x.onload=function(){var T={img:x,config:i};try{var O=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=d.img,c=d.config,l=(d.orientation,$());l.width=b.width,l.height=b.height;var w=l.getContext("2d");c.mimeType==="image/jpeg"&&(w.fillStyle="#ffffff",w.fillRect(0,0,l.width,l.height),w.save()),w.drawImage(b,0,0),w.restore();for(var v=L(c,l);l.width>=2*v;)l=N(l);l.width>v&&(l=H(l,Object.assign(c,{outputWidth:v})));var C=l.toDataURL(c.mimeType,c.quality);return typeof c.onScale=="function"&&c.onScale(C),U(C)}(T);o(O)}catch(d){n(d)}},x.src=p.target.result};try{m.onerror=function(){n("cannot read image file.")},m.readAsDataURL(t)}catch(p){n(p)}})}return z})())}(K)),K.exports}var de=ce();const ue={quality:.8,width:100,height:100,mimeType:"image/png"},we=()=>{const{t:s}=ie(),y=re().palette.mode==="dark",[z,$]=S.useState([]),[U,L]=S.useState(null),[H,N]=S.useState(""),[W,G]=S.useState(0),[t,a]=S.useState(100),[o,n]=S.useState(100),[x,m]=S.useState(""),[i,p]=S.useState("sp1-"),[T,O]=S.useState("PNG"),[d,b]=S.useState(20),[c,l]=S.useState(50),w=(r,h)=>G(h),v=r=>{const h=r.target.files[0];h&&h.size<=1048576?C(h):alert("Upload ZIP under 1MB with image files.")},C=r=>{new oe().loadAsync(r).then(async j=>{const _=Object.keys(j.files).filter(g=>g.match(/\.(jpg|jpeg|png|gif)$/i)),u=await Promise.all(_.map(g=>j.files[g].async("blob")));$(u)})},A=async r=>Promise.all(r.map(h=>de.readAndCompressImage(h,{...ue,width:t,height:o,mimeType:`image/${T.toLowerCase()}`}))),P=async()=>{const r=await A(z),h=await Promise.all(r.map(f=>new Promise(I=>{const F=new Image;F.onload=()=>I(F),F.src=URL.createObjectURL(f)}))),j=h.reduce((f,I)=>f+I.width,0)+d*(h.length-1),_=Math.max(...h.map(f=>f.height))+c,u=document.createElement("canvas");u.width=j,u.height=_;const g=u.getContext("2d");x&&(g.fillStyle=x,g.fillRect(0,0,u.width,u.height));let R=0;const E=[];h.forEach((f,I)=>{g.drawImage(f,R,c),E.push(`.${i}${I} { background: url('sprite.png') no-repeat -${R}px -${c}px; width: ${f.width}px; height: ${f.height}px; }`),R+=f.width+d});const B=u.toDataURL(`image/${T.toLowerCase()}`);L(B),N(E.join(`
`))};return e.jsxs(M,{sx:{p:4,mt:9},children:[e.jsxs(ne,{children:[e.jsx("title",{children:s("cssSprite_seoTitle")}),e.jsx("meta",{name:"description",content:s("cssSprite_seoDescription")}),e.jsx("meta",{name:"keywords",content:s("cssSprite_seoKeywords")}),e.jsx("meta",{name:"author",content:"Rakshit Kumar Singh"}),e.jsx("link",{rel:"canonical",href:"https://rakshit-singh2.github.io/rakshit-singh2/css-sprite-generator"}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Person",name:"Rakshit Kumar Singh",jobTitle:"Blockchain & Full-Stack Developer",email:"kumarrakshit745@aol.com",address:{"@type":"PostalAddress",addressLocality:"Faridabad",addressCountry:"India"},alumniOf:[{"@type":"CollegeOrUniversity",name:"DSEU Shakarpur-II Campus"},{"@type":"CollegeOrUniversity",name:"Dyal Singh College, University of Delhi"}],url:"https://rakshit-singh2.github.io/rakshit-singh2/",sameAs:["https://github.com/rakshit-singh2","https://www.linkedin.com/in/rakshit-kumar-singh-526a13146/","https://t.me/AgentDave007","mailto:kumarrakshit745@aol.com","https://www.reddit.com/user/AgentDave745/","https://discord.com/users/agentdave_745"]})})]}),e.jsx(k,{variant:"h4",textAlign:"center",sx:{mb:4},children:s("cssSprite_title")}),e.jsxs(le,{value:W,onChange:w,centered:!0,children:[e.jsx(Y,{label:s("cssSprite_generateTab")}),e.jsx(Y,{label:s("cssSprite_viewCssTab")})]}),W===0&&e.jsxs(M,{sx:{mt:4},children:[e.jsx(k,{variant:"h6",gutterBottom:!0,children:s("cssSprite_uploadLabel")}),e.jsx("input",{type:"file",accept:".zip",onChange:v}),e.jsx("br",{}),e.jsx(V,{onClick:P,variant:"contained",sx:{mt:2},children:s("cssSprite_generateButton")}),e.jsxs(M,{sx:{mt:4},children:[e.jsx(k,{variant:"h6",children:s("cssSprite_spriteSettings")}),e.jsxs(M,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr",md:"repeat(3, 1fr)"},gap:2,mt:2},children:[e.jsx(D,{label:s("cssSprite_resizeWidth"),type:"number",value:t,onChange:r=>a(Number(r.target.value)),fullWidth:!0}),e.jsx(D,{label:s("cssSprite_resizeHeight"),type:"number",value:o,onChange:r=>n(Number(r.target.value)),fullWidth:!0}),e.jsx(D,{label:s("cssSprite_horizontalOffset"),type:"number",value:d,onChange:r=>b(Number(r.target.value)),fullWidth:!0}),e.jsx(D,{label:s("cssSprite_verticalOffset"),type:"number",value:c,onChange:r=>l(Number(r.target.value)),fullWidth:!0}),e.jsx(D,{label:s("cssSprite_backgroundColor"),value:x,onChange:r=>m(r.target.value),placeholder:"#FF0000",fullWidth:!0}),e.jsx(D,{label:s("cssSprite_classPrefix"),value:i,onChange:r=>p(r.target.value),fullWidth:!0}),e.jsxs(D,{label:s("cssSprite_outputFormat"),select:!0,value:T,onChange:r=>O(r.target.value),fullWidth:!0,children:[e.jsx(Q,{value:"PNG",children:"PNG"}),e.jsx(Q,{value:"JPEG",children:"JPEG"})]})]})]}),U&&e.jsxs(M,{sx:{mt:4},children:[e.jsx(k,{variant:"h6",children:s("cssSprite_resultLabel")}),e.jsx("img",{src:U,alt:"Generated CSS Sprite",style:{maxWidth:"100%",border:"1px solid #ccc"}}),e.jsx("br",{}),e.jsx(V,{href:U,download:"sprite.png",variant:"contained",sx:{mt:2},children:s("cssSprite_downloadButton")})]}),e.jsxs(M,{sx:{mt:6},children:[e.jsx(k,{variant:"h5",gutterBottom:!0,children:s("cssSprite_whatIsTitle")}),e.jsx(k,{variant:"body1",paragraph:!0,children:s("cssSprite_description1")}),e.jsx(k,{variant:"body1",paragraph:!0,children:s("cssSprite_description2")}),e.jsx(k,{variant:"body1",children:s("cssSprite_benefitsTitle")}),e.jsxs("ul",{children:[e.jsx("li",{children:s("cssSprite_benefit1")}),e.jsx("li",{children:s("cssSprite_benefit2")}),e.jsx("li",{children:s("cssSprite_benefit3")}),e.jsx("li",{children:s("cssSprite_benefit4")})]})]})]}),W===1&&e.jsxs(M,{sx:{mt:4},children:[e.jsx(k,{variant:"h6",children:s("cssSprite_cssOutput")}),e.jsx(he,{minRows:10,value:H,readOnly:!0,style:{width:"100%",fontFamily:"monospace",padding:"8px",background:y?"#1e1e1e":"#f0f0f0",color:y?"#ffffff":"#000000",border:`1px solid ${y?"#555":"#ccc"}`,borderRadius:"4px"}})]})]})};export{we as default};
